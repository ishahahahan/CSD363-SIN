[2025-04-24 03:03:53,857] INFO - Output log being saved to: results\output_20250424-030353.txt
[2025-04-24 03:03:53,858] INFO - Starting Community Detection Pipeline
[2025-04-24 03:03:53,860] INFO - Loading configuration from config.yaml
[2025-04-24 03:03:53,862] INFO - Configuration: data_dir=data, sample_size=100000, size_threshold=5000, target_subcommunities=5, modularity_threshold=0.3
[2025-04-24 03:03:53,862] INFO - Performance settings: max_iterations=30, time_limit=18000s, fast_mode=True
[2025-04-24 03:03:53,862] INFO - File settings: input_edge_file=undirected.txt, ground_truth_file=ground_truth.txt
[2025-04-24 03:03:53,863] INFO - Loading graph from cached pickle: data\livejournal_100000.pkl
[2025-04-24 03:03:53,958] INFO - Graph loaded in 0.09 seconds
[2025-04-24 03:03:53,958] INFO - Ground truth file is available at: data\undirected.txt
[2025-04-24 03:03:53,959] INFO - Analyzing graph structure...
[2025-04-24 03:03:54,150] INFO - Graph has 145211 nodes and 92918 edges (density: 0.000009)
[2025-04-24 03:03:54,150] INFO - Graph has 53051 connected components
[2025-04-24 03:03:54,150] INFO - Largest component has 10611 nodes (7.31% of graph)
[2025-04-24 03:03:54,151] WARNING - Graph is disconnected with 53051 components - metrics may be affected
[2025-04-24 03:03:54,154] INFO - Component size distribution: 10611 nodes: 1 components, 246 nodes: 1 components, 145 nodes: 1 components, 113 nodes: 1 components, 63 nodes: 1 components, 62 nodes: 1 components, 61 nodes: 1 components, 57 nodes: 1 components, 54 nodes: 1 components, 53 nodes: 1 components
[2025-04-24 03:03:54,161] INFO - Using ground truth file: ground_truth.txt
[2025-04-24 03:03:54,161] INFO - Looking for ground truth files in: data
[2025-04-24 03:03:54,161] INFO - Checking for ground truth file at: data\ground_truth.txt
[2025-04-24 03:03:54,161] INFO - Found ground truth file: data\ground_truth.txt
[2025-04-24 03:03:54,162] INFO - Attempting to load ground truth from: data\ground_truth.txt
[2025-04-24 03:03:54,910] INFO - Loaded ground truth from edge file with 256109 nodes across 216518 communities
[2025-04-24 03:03:54,982] INFO - Filtered ground truth from 256109 to 92371 nodes
[2025-04-24 03:03:55,004] INFO - Ground truth loaded successfully with 92371 nodes and 85616 communities
[2025-04-24 03:03:55,015] INFO - Evaluating community detection results
[2025-04-24 03:03:55,015] WARNING - Large graph detected (145211 nodes) - using optimized metrics
[2025-04-24 03:03:55,147] WARNING - Graph has 53051 connected components (largest: 10611 nodes)
[2025-04-24 03:03:55,147] WARNING - Metrics may be affected by graph disconnectivity
[2025-04-24 03:03:55,578] INFO - Modularity: 0.0000
[2025-04-24 03:03:55,737] INFO - Average conductance: 0.0000
[2025-04-24 03:03:55,737] WARNING - Very low conductance likely due to graph disconnectivity (few edges between components)
[2025-04-24 03:03:56,225] INFO - NMI calculated on 92371 overlapping nodes: 0.0000
[2025-04-24 03:03:56,228] INFO - Normalized Mutual Information: 0.0000
[2025-04-24 03:03:56,233] INFO - Evaluation completed in 1.22 seconds
[2025-04-24 03:03:56,242] INFO - Baseline metrics - Modularity: 0.0000, Conductance: 0.0000
[2025-04-24 03:04:15,649] INFO - Evaluating community detection results
[2025-04-24 03:04:15,649] WARNING - Large graph detected (145211 nodes) - using optimized metrics
[2025-04-24 03:04:15,808] WARNING - Graph has 53051 connected components (largest: 10611 nodes)
[2025-04-24 03:04:15,809] WARNING - Metrics may be affected by graph disconnectivity
[2025-04-24 03:04:16,353] WARNING - Very high modularity (0.9977) with 53051 connected components.
[2025-04-24 03:04:16,354] WARNING - This is expected for disconnected graphs, as each component naturally forms a community.
[2025-04-24 03:04:16,356] INFO - Modularity: 0.9977
[2025-04-24 03:04:16,435] INFO - Computed conductance for 1000/53083 communities (sampled)
[2025-04-24 03:04:16,436] INFO - Average conductance: 0.0003
[2025-04-24 03:04:16,436] WARNING - Very low conductance likely due to graph disconnectivity (few edges between components)
[2025-04-24 03:04:17,323] INFO - NMI calculated on 92371 overlapping nodes: 0.9469
[2025-04-24 03:04:17,327] INFO - Normalized Mutual Information: 0.9469
[2025-04-24 03:04:17,332] INFO - Evaluation completed in 1.68 seconds
[2025-04-24 03:04:17,345] INFO - Initial Louvain: 53083 communities
[2025-04-24 03:04:17,345] INFO - Louvain metrics - Modularity: 0.9977, Conductance: 0.0003
[2025-04-24 03:04:17,345] INFO - Improvement from baseline - Modularity: +0.9977
[2025-04-24 03:04:17,345] INFO - Large graph with many components: checking if Girvan-Newman refinement is needed
[2025-04-24 03:04:17,345] INFO - High modularity detected from Louvain. Skipping Girvan-Newman refinement.
[2025-04-24 03:04:17,346] INFO - After refinement: 53083 communities
[2025-04-24 03:04:17,346] INFO - GN metrics - Modularity: 0.9977, Conductance: 0.0003
[2025-04-24 03:04:20,419] INFO - Evaluating community detection results
[2025-04-24 03:04:20,420] WARNING - Large graph detected (145211 nodes) - using optimized metrics
[2025-04-24 03:04:20,670] WARNING - Graph has 53051 connected components (largest: 10611 nodes)
[2025-04-24 03:04:20,671] WARNING - Metrics may be affected by graph disconnectivity
[2025-04-24 03:04:21,275] WARNING - Very high modularity (0.9648) with 53051 connected components.
[2025-04-24 03:04:21,276] WARNING - This is expected for disconnected graphs, as each component naturally forms a community.
[2025-04-24 03:04:21,278] INFO - Modularity: 0.9648
[2025-04-24 03:04:21,346] INFO - Computed conductance for 1000/56005 communities (sampled)
[2025-04-24 03:04:21,347] INFO - Average conductance: 0.0191
[2025-04-24 03:04:22,147] INFO - NMI calculated on 92371 overlapping nodes: 0.9664
[2025-04-24 03:04:22,151] INFO - Normalized Mutual Information: 0.9664
[2025-04-24 03:04:22,428] INFO - Description length: 0.1258
[2025-04-24 03:04:22,429] INFO - Evaluation completed in 2.01 seconds
[2025-04-24 03:04:22,439] INFO - Final communities: 56005 communities
[2025-04-24 03:04:22,439] INFO - Infomap metrics - Modularity: 0.9648, Conductance: 0.0191
[2025-04-24 03:04:22,440] INFO - Improvement from GN - Modularity: -0.0329
[2025-04-24 03:04:22,466] INFO - Creating community visualization...
[2025-04-24 03:04:22,743] WARNING - Graph is highly disconnected (53051 components for 145211 nodes)
[2025-04-24 03:04:22,743] WARNING - Visualization may be limited or simplified for this type of graph
[2025-04-24 03:04:23,348] INFO - Preparing to visualize 145211 nodes, 92918 edges in 56005 communities
[2025-04-24 03:04:23,688] INFO - Community size summary saved to community_visualizations\community_size_summary.png
[2025-04-24 03:04:23,691] INFO - Computing layout for top 20 communities subgraph...
[2025-04-24 03:04:24,464] INFO - Top communities visualization saved to community_visualizations\top_communities_visualization.png
[2025-04-24 03:04:24,464] INFO - Skipping community interconnection visualization for highly disconnected graph
[2025-04-24 03:04:24,465] INFO - Creating detailed visualizations for top 5 communities...
[2025-04-24 03:04:24,722] INFO - Detailed visualization for community 0 saved to community_visualizations\detailed_communities\community_0_detail.png
[2025-04-24 03:04:24,983] INFO - Detailed visualization for community 1 saved to community_visualizations\detailed_communities\community_1_detail.png
[2025-04-24 03:04:25,247] INFO - Detailed visualization for community 2 saved to community_visualizations\detailed_communities\community_2_detail.png
[2025-04-24 03:04:25,495] INFO - Detailed visualization for community 3 saved to community_visualizations\detailed_communities\community_3_detail.png
[2025-04-24 03:04:25,751] INFO - Detailed visualization for community 4 saved to community_visualizations\detailed_communities\community_4_detail.png
[2025-04-24 03:04:25,777] INFO - Comprehensive visualization report saved to community_visualizations\community_report.html
[2025-04-24 03:04:26,106] INFO - Evaluation metrics saved to results\metrics_20250424-030425.json
[2025-04-24 03:04:26,108] INFO - Evaluation metrics saved to results\metrics_20250424-030425.json
[2025-04-24 03:04:26,463] INFO - Metrics comparison plot saved to results\metrics_comparison.png
[2025-04-24 03:04:26,464] INFO - Metrics comparison plot saved to results\metrics_comparison.png
[2025-04-24 03:04:26,464] INFO - ==================================================
[2025-04-24 03:04:26,464] INFO - NORMALIZED MUTUAL INFORMATION (NMI) RESULTS
[2025-04-24 03:04:26,464] INFO - ==================================================
[2025-04-24 03:04:26,464] INFO - NMI measures similarity between detected communities and ground truth (0-1, higher is better)
[2025-04-24 03:04:26,465] INFO -   - Baseline: 0.0000
[2025-04-24 03:04:26,465] INFO -   - Louvain:  0.9469
[2025-04-24 03:04:26,465] INFO -   - GN:       0.9469
[2025-04-24 03:04:26,465] INFO -   - Infomap:  0.9664
[2025-04-24 03:04:26,465] INFO - ==================================================
[2025-04-24 03:04:26,465] INFO - COMMUNITY DETECTION PIPELINE SUMMARY
[2025-04-24 03:04:26,465] INFO - ==================================================
[2025-04-24 03:04:26,491] INFO - Nodes: 145211, Edges: 92918
[2025-04-24 03:04:26,491] INFO - Graph density: 0.000009
[2025-04-24 03:04:26,491] INFO - Connected components: 53051
[2025-04-24 03:04:26,492] WARNING - IMPORTANT: Graph is highly disconnected - metrics may not be meaningful
[2025-04-24 03:04:26,492] WARNING - High number of connected components (53051) may explain high modularity values
[2025-04-24 03:04:26,492] INFO - Final number of communities: 56005
[2025-04-24 03:04:26,493] INFO - Stage-by-stage modularity:
[2025-04-24 03:04:26,493] INFO -   - Baseline: 0.0000
[2025-04-24 03:04:26,493] INFO -   - Louvain:  0.9977 (delta: +0.9977)
[2025-04-24 03:04:26,493] INFO -   - GN:       0.9977 (delta: 0.0000)
[2025-04-24 03:04:26,493] INFO -   - Infomap:  0.9648 (delta: -0.0329)
[2025-04-24 03:04:26,493] INFO - Overall improvement: +0.9648
[2025-04-24 03:04:26,493] INFO - NOTE: The high modularity values are likely due to many disconnected components in the graph
[2025-04-24 03:04:26,494] INFO -       Each component forms its own natural community with no external edges
[2025-04-24 03:04:26,494] INFO - Visualization saved to: community_visualizations\community_report.html
[2025-04-24 03:04:26,494] INFO - Metrics saved to: results\metrics_20250424-030425.json
[2025-04-24 03:04:26,494] INFO - Total runtime: 32.61 seconds
[2025-04-24 03:04:26,494] INFO - ==================================================
[2025-04-24 03:04:26,495] INFO - Pipeline execution completed successfully.
[2025-04-24 03:04:26,495] INFO - Output log has been saved to: results\output_20250424-030426.txt
