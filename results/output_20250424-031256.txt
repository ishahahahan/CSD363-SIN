[2025-04-24 03:12:56,878] INFO - Output log being saved to: results\output_20250424-031256.txt
[2025-04-24 03:12:56,879] INFO - Starting Community Detection Pipeline
[2025-04-24 03:12:56,880] INFO - Loading configuration from config.yaml
[2025-04-24 03:12:56,889] INFO - Configuration: data_dir=data, sample_size=1000000, size_threshold=5000, target_subcommunities=5, modularity_threshold=0.3
[2025-04-24 03:12:56,889] INFO - Performance settings: max_iterations=30, time_limit=18000s, fast_mode=True
[2025-04-24 03:12:56,889] INFO - File settings: input_edge_file=undirected.txt, ground_truth_file=ground_truth.txt
[2025-04-24 03:12:56,889] INFO - Loading graph from cached pickle: data\livejournal_1000000.pkl
[2025-04-24 03:12:57,357] INFO - Graph loaded in 0.47 seconds
[2025-04-24 03:12:57,358] INFO - Ground truth file is available at: data\undirected.txt
[2025-04-24 03:12:57,358] INFO - Analyzing graph structure...
[2025-04-24 03:12:58,349] INFO - Graph has 477998 nodes and 530872 edges (density: 0.000005)
[2025-04-24 03:12:58,350] INFO - Graph has 71813 connected components
[2025-04-24 03:12:58,350] INFO - Largest component has 303526 nodes (63.50% of graph)
[2025-04-24 03:12:58,351] WARNING - Graph is disconnected with 71813 components - metrics may be affected
[2025-04-24 03:12:58,355] INFO - Component size distribution: 303526 nodes: 1 components, 58 nodes: 1 components, 38 nodes: 2 components, 35 nodes: 1 components, 32 nodes: 1 components, 27 nodes: 1 components, 24 nodes: 1 components, 22 nodes: 1 components, 20 nodes: 2 components
[2025-04-24 03:12:58,372] INFO - Using ground truth file: ground_truth.txt
[2025-04-24 03:12:58,372] INFO - Looking for ground truth files in: data
[2025-04-24 03:12:58,372] INFO - Checking for ground truth file at: data\ground_truth.txt
[2025-04-24 03:12:58,372] INFO - Found ground truth file: data\ground_truth.txt
[2025-04-24 03:12:58,372] INFO - Attempting to load ground truth from: data\ground_truth.txt
[2025-04-24 03:12:59,095] INFO - Loaded ground truth from edge file with 256109 nodes across 216518 communities
[2025-04-24 03:12:59,203] INFO - Filtered ground truth from 256109 to 256109 nodes
[2025-04-24 03:12:59,234] INFO - Ground truth loaded successfully with 256109 nodes and 216518 communities
[2025-04-24 03:12:59,285] INFO - Evaluating community detection results
[2025-04-24 03:12:59,286] WARNING - Large graph detected (477998 nodes) - using optimized metrics
[2025-04-24 03:12:59,993] WARNING - Graph has 71813 connected components (largest: 303526 nodes)
[2025-04-24 03:12:59,993] WARNING - Metrics may be affected by graph disconnectivity
[2025-04-24 03:13:01,870] INFO - Modularity: 0.0000
[2025-04-24 03:13:02,618] INFO - Average conductance: 0.0000
[2025-04-24 03:13:02,618] WARNING - Very low conductance likely due to graph disconnectivity (few edges between components)
[2025-04-24 03:13:04,280] INFO - Estimated coverage based on 1/1 communities
[2025-04-24 03:13:04,583] INFO - NMI calculated on 256109 overlapping nodes: 0.0000
[2025-04-24 03:13:04,590] INFO - Normalized Mutual Information: 0.0000
[2025-04-24 03:13:04,597] INFO - Evaluation completed in 5.31 seconds
[2025-04-24 03:13:04,641] INFO - Baseline metrics - Modularity: 0.0000, Conductance: 0.0000
[2025-04-24 03:16:02,215] INFO - Evaluating community detection results
[2025-04-24 03:16:02,216] WARNING - Large graph detected (477998 nodes) - using optimized metrics
[2025-04-24 03:16:03,144] WARNING - Graph has 71813 connected components (largest: 303526 nodes)
[2025-04-24 03:16:03,145] WARNING - Metrics may be affected by graph disconnectivity
[2025-04-24 03:16:05,005] INFO - Modularity: 0.8301
[2025-04-24 03:16:05,619] INFO - Computed conductance for 1000/73882 communities (sampled)
[2025-04-24 03:16:05,619] INFO - Average conductance: 0.0296
[2025-04-24 03:16:06,581] INFO - Estimated coverage based on 500/73882 communities
[2025-04-24 03:16:06,936] INFO - NMI calculated on 256109 overlapping nodes: 0.7615
[2025-04-24 03:16:06,946] INFO - Normalized Mutual Information: 0.7615
[2025-04-24 03:16:06,952] INFO - Evaluation completed in 4.74 seconds
[2025-04-24 03:16:07,011] INFO - Initial Louvain: 73882 communities
[2025-04-24 03:16:07,012] INFO - Louvain metrics - Modularity: 0.8301, Conductance: 0.0296
[2025-04-24 03:16:07,012] INFO - Improvement from baseline - Modularity: +0.8301
[2025-04-24 03:16:07,013] INFO - Large graph with many components: checking if Girvan-Newman refinement is needed
[2025-04-24 03:16:07,013] INFO - Running Girvan-Newman with max_iterations=30
[2025-04-24 03:16:07,013] INFO - Refining communities larger than 5000 nodes
[2025-04-24 03:16:07,176] INFO - Found 2 communities larger than threshold
[2025-04-24 03:16:07,179] INFO - Refining community 5 with 46124 nodes
[2025-04-24 03:16:07,754] INFO - Running Girvan-Newman on community 5 to find 5 subcommunities
[2025-04-24 03:16:07,754] INFO - Running Girvan-Newman algorithm with metric tracking
[2025-04-24 03:16:07,754] WARNING - Large graph detected (46124 nodes). Using optimized GN algorithm.
[2025-04-24 03:16:07,754] INFO - Using optimized Girvan-Newman for large graph (46124 nodes)
[2025-04-24 03:16:07,817] INFO - Starting with 1 connected components
[2025-04-24 03:16:07,872] INFO - Focusing on largest connected component (46124 nodes)
[2025-04-24 03:16:09,087] INFO - Processing component 1 with 46124 nodes
[2025-04-24 03:20:08,649] INFO - Split component into 5 parts
[2025-04-24 03:20:08,843] INFO - Step 2, Communities: 5, Modularity: 0.0001
[2025-04-24 03:20:08,844] INFO - Evaluating step 1/2
[2025-04-24 03:20:09,268] INFO - Using approximate edge betweenness with k=1000 samples
[2025-04-24 03:24:00,095] INFO - Evaluating step 2/2
[2025-04-24 03:24:00,507] INFO - Using approximate edge betweenness with k=1000 samples
[2025-04-24 03:27:51,312] INFO - Optimized Girvan-Newman completed in 703.56s
[2025-04-24 03:27:51,313] INFO - Final communities: 5
[2025-04-24 03:27:51,313] INFO - Best modularity: 0.0001
[2025-04-24 03:27:51,356] INFO - Found 5 subcommunities for community 5
[2025-04-24 03:27:51,367] INFO - Applied refinement: split community 5 into 5 communities
[2025-04-24 03:27:51,367] INFO - Refining community 22 with 27831 nodes
[2025-04-24 03:27:51,596] INFO - Running Girvan-Newman on community 22 to find 5 subcommunities
[2025-04-24 03:27:51,596] INFO - Running Girvan-Newman algorithm with metric tracking
[2025-04-24 03:27:51,597] WARNING - Large graph detected (27831 nodes). Using optimized GN algorithm.
[2025-04-24 03:27:51,597] INFO - Using optimized Girvan-Newman for large graph (27831 nodes)
[2025-04-24 03:27:51,617] INFO - Starting with 1 connected components
[2025-04-24 03:27:51,644] INFO - Focusing on largest connected component (27831 nodes)
[2025-04-24 03:27:52,064] INFO - Processing component 1 with 27831 nodes
[2025-04-24 03:29:34,756] INFO - Evaluating step 1/1
[2025-04-24 03:29:34,980] INFO - Using approximate edge betweenness with k=1000 samples
[2025-04-24 03:31:19,867] INFO - Optimized Girvan-Newman completed in 208.27s
[2025-04-24 03:31:19,869] INFO - Final communities: 1
[2025-04-24 03:31:19,884] INFO - Found 1 subcommunities for community 22
[2025-04-24 03:31:19,885] INFO - No meaningful partitioning found for community 22
[2025-04-24 03:31:19,909] INFO - Refinement complete. Partition now has 73886 communities
[2025-04-24 03:31:19,973] INFO - Evaluating community detection results
[2025-04-24 03:31:19,973] WARNING - Large graph detected (477998 nodes) - using optimized metrics
[2025-04-24 03:31:20,935] WARNING - Graph has 71813 connected components (largest: 303526 nodes)
[2025-04-24 03:31:20,935] WARNING - Metrics may be affected by graph disconnectivity
[2025-04-24 03:31:22,992] INFO - Modularity: 0.8301
[2025-04-24 03:31:23,591] INFO - Computed conductance for 1000/73886 communities (sampled)
[2025-04-24 03:31:23,591] INFO - Average conductance: 0.0307
[2025-04-24 03:31:24,576] INFO - Estimated coverage based on 500/73886 communities
[2025-04-24 03:31:24,968] INFO - NMI calculated on 256109 overlapping nodes: 0.7615
[2025-04-24 03:31:24,977] INFO - Normalized Mutual Information: 0.7615
[2025-04-24 03:31:24,985] INFO - Evaluation completed in 5.01 seconds
[2025-04-24 03:31:25,026] INFO - After refinement: 73886 communities
[2025-04-24 03:31:25,027] INFO - GN metrics - Modularity: 0.8301, Conductance: 0.0307
[2025-04-24 03:31:41,204] INFO - Evaluating community detection results
[2025-04-24 03:31:41,205] WARNING - Large graph detected (477998 nodes) - using optimized metrics
[2025-04-24 03:31:42,144] WARNING - Graph has 71813 connected components (largest: 303526 nodes)
[2025-04-24 03:31:42,144] WARNING - Metrics may be affected by graph disconnectivity
[2025-04-24 03:31:44,228] INFO - Modularity: 0.7214
[2025-04-24 03:31:44,489] INFO - Computed conductance for 1000/106809 communities (sampled)
[2025-04-24 03:31:44,490] INFO - Average conductance: 0.2932
[2025-04-24 03:31:44,678] INFO - Estimated coverage based on 500/106809 communities
[2025-04-24 03:31:45,048] INFO - NMI calculated on 256109 overlapping nodes: 0.9505
[2025-04-24 03:31:45,057] INFO - Normalized Mutual Information: 0.9505
[2025-04-24 03:31:46,163] INFO - Description length: 0.6669
[2025-04-24 03:31:46,163] INFO - Evaluation completed in 4.96 seconds
[2025-04-24 03:31:46,202] INFO - Final communities: 106809 communities
[2025-04-24 03:31:46,202] INFO - Infomap metrics - Modularity: 0.7214, Conductance: 0.2932
[2025-04-24 03:31:46,203] INFO - Improvement from GN - Modularity: -0.1087
[2025-04-24 03:31:46,297] INFO - Creating community visualization...
[2025-04-24 03:31:50,620] INFO - Preparing to visualize 477998 nodes, 530872 edges in 106809 communities
[2025-04-24 03:31:51,140] INFO - Community size summary saved to community_visualizations\community_size_summary.png
[2025-04-24 03:31:51,174] INFO - Computing layout for top 20 communities subgraph...
[2025-04-24 03:32:09,916] INFO - Top communities visualization saved to community_visualizations\top_communities_visualization.png
[2025-04-24 03:32:09,917] INFO - Creating community interconnection visualization...
[2025-04-24 03:32:11,014] INFO - Community interconnection visualization saved to community_visualizations\community_interconnections.png
[2025-04-24 03:32:11,014] INFO - Creating detailed visualizations for top 10 communities...
[2025-04-24 03:32:12,437] INFO - Detailed visualization for community 0 saved to community_visualizations\detailed_communities\community_0_detail.png
[2025-04-24 03:32:13,261] INFO - Detailed visualization for community 1 saved to community_visualizations\detailed_communities\community_1_detail.png
[2025-04-24 03:32:13,811] INFO - Detailed visualization for community 2 saved to community_visualizations\detailed_communities\community_2_detail.png
[2025-04-24 03:32:14,407] INFO - Detailed visualization for community 3 saved to community_visualizations\detailed_communities\community_3_detail.png
[2025-04-24 03:32:14,847] INFO - Detailed visualization for community 4 saved to community_visualizations\detailed_communities\community_4_detail.png
[2025-04-24 03:32:15,244] INFO - Detailed visualization for community 5 saved to community_visualizations\detailed_communities\community_5_detail.png
[2025-04-24 03:32:15,626] INFO - Detailed visualization for community 6 saved to community_visualizations\detailed_communities\community_6_detail.png
[2025-04-24 03:32:16,010] INFO - Detailed visualization for community 7 saved to community_visualizations\detailed_communities\community_7_detail.png
[2025-04-24 03:32:16,294] INFO - Detailed visualization for community 8 saved to community_visualizations\detailed_communities\community_8_detail.png
[2025-04-24 03:32:16,573] INFO - Detailed visualization for community 9 saved to community_visualizations\detailed_communities\community_9_detail.png
[2025-04-24 03:32:16,682] INFO - Comprehensive visualization report saved to community_visualizations\community_report.html
[2025-04-24 03:32:17,305] INFO - Evaluation metrics saved to results\metrics_20250424-033216.json
[2025-04-24 03:32:17,308] INFO - Evaluation metrics saved to results\metrics_20250424-033216.json
[2025-04-24 03:32:17,669] INFO - Metrics comparison plot saved to results\metrics_comparison.png
[2025-04-24 03:32:17,669] INFO - Metrics comparison plot saved to results\metrics_comparison.png
[2025-04-24 03:32:17,669] INFO - ==================================================
[2025-04-24 03:32:17,669] INFO - NORMALIZED MUTUAL INFORMATION (NMI) RESULTS
[2025-04-24 03:32:17,669] INFO - ==================================================
[2025-04-24 03:32:17,669] INFO - NMI measures similarity between detected communities and ground truth (0-1, higher is better)
[2025-04-24 03:32:17,670] INFO -   - Baseline: 0.0000
[2025-04-24 03:32:17,670] INFO -   - Louvain:  0.7615
[2025-04-24 03:32:17,670] INFO -   - GN:       0.7615
[2025-04-24 03:32:17,670] INFO -   - Infomap:  0.9505
[2025-04-24 03:32:17,670] INFO - ==================================================
[2025-04-24 03:32:17,670] INFO - COMMUNITY DETECTION PIPELINE SUMMARY
[2025-04-24 03:32:17,670] INFO - ==================================================
[2025-04-24 03:32:17,766] INFO - Nodes: 477998, Edges: 530872
[2025-04-24 03:32:17,766] INFO - Graph density: 0.000005
[2025-04-24 03:32:17,767] INFO - Connected components: 71813
[2025-04-24 03:32:17,767] WARNING - IMPORTANT: Graph is highly disconnected - metrics may not be meaningful
[2025-04-24 03:32:17,767] WARNING - High number of connected components (71813) may explain high modularity values
[2025-04-24 03:32:17,767] INFO - Final number of communities: 106809
[2025-04-24 03:32:17,767] INFO - Stage-by-stage modularity:
[2025-04-24 03:32:17,767] INFO -   - Baseline: 0.0000
[2025-04-24 03:32:17,768] INFO -   - Louvain:  0.8301 (delta: +0.8301)
[2025-04-24 03:32:17,768] INFO -   - GN:       0.8301 (delta: -0.0000)
[2025-04-24 03:32:17,768] INFO -   - Infomap:  0.7214 (delta: -0.1087)
[2025-04-24 03:32:17,769] INFO - Overall improvement: +0.7214
[2025-04-24 03:32:17,769] INFO - Visualization saved to: community_visualizations\community_report.html
[2025-04-24 03:32:17,769] INFO - Metrics saved to: results\metrics_20250424-033216.json
[2025-04-24 03:32:17,769] INFO - Total runtime: 1160.79 seconds
[2025-04-24 03:32:17,769] INFO - ==================================================
[2025-04-24 03:32:17,770] INFO - Pipeline execution completed successfully.
[2025-04-24 03:32:17,770] INFO - Output log has been saved to: results\output_20250424-033217.txt
